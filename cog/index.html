
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Cloud Native Geospatial">
      
      
        <meta name="author" content="Jeffrey Gillan">
      
      
        <link rel="canonical" href="https://jeffgillan.github.io/cloud-native-geospatial/cog/">
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-8.5.10">
    
    
      
        <title>Cloud Optimized GeoTiff - Cloud Native Geospatial</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,700,700i%7CRegular:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Montserrat";--md-code-font:"Regular"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#background" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Cloud Native Geospatial" class="md-header__button md-logo" aria-label="Cloud Native Geospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 20a6 6 0 0 1-6-6c0-3.09 2.34-5.64 5.35-5.96A7.496 7.496 0 0 1 12 4a7.5 7.5 0 0 1 7.35 6A5.02 5.02 0 0 1 24 15a5 5 0 0 1-5 5H6m12.5-8H18a1 1 0 0 1-1-1v-1a2 2 0 0 0-2-2h-1.5v2H15v1a2 2 0 0 0 2 2 2 2 0 0 0-2 2v1h-1.5v2H15a2 2 0 0 0 2-2v-1a1 1 0 0 1 1-1h.5v-2m-13 0v2H6a1 1 0 0 1 1 1v1a2 2 0 0 0 2 2h1.5v-2H9v-1a2 2 0 0 0-2-2 2 2 0 0 0 2-2v-1h1.5V8H9a2 2 0 0 0-2 2v1a1 1 0 0 1-1 1h-.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cloud Native Geospatial
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Cloud Optimized GeoTiff
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_3" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="agic" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_3">
          
            <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jeffgillan/cloud-native-geospatial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cloud-native-geospatial
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cloud Native Geospatial" class="md-nav__button md-logo" aria-label="Cloud Native Geospatial" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 20a6 6 0 0 1-6-6c0-3.09 2.34-5.64 5.35-5.96A7.496 7.496 0 0 1 12 4a7.5 7.5 0 0 1 7.35 6A5.02 5.02 0 0 1 24 15a5 5 0 0 1-5 5H6m12.5-8H18a1 1 0 0 1-1-1v-1a2 2 0 0 0-2-2h-1.5v2H15v1a2 2 0 0 0 2 2 2 2 0 0 0-2 2v1h-1.5v2H15a2 2 0 0 0 2-2v-1a1 1 0 0 1 1-1h.5v-2m-13 0v2H6a1 1 0 0 1 1 1v1a2 2 0 0 0 2 2h1.5v-2H9v-1a2 2 0 0 0-2-2 2 2 0 0 0 2-2v-1h1.5V8H9a2 2 0 0 0-2 2v1a1 1 0 0 1-1 1h-.5Z"/></svg>

    </a>
    Cloud Native Geospatial
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jeffgillan/cloud-native-geospatial" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    cloud-native-geospatial
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Vectors
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Vectors" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Vectors
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flatgeobuf/" class="md-nav__link">
        Flatgeobuf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../geojson/" class="md-nav__link">
        GeoJSON
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copc/" class="md-nav__link">
        Cloud Optimized Point Clouds
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Rasters
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Rasters" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Rasters
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Cloud Optimized GeoTiff
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Cloud Optimized GeoTiff
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-optimized-geotiff-cog" class="md-nav__link">
    Cloud Optimized GeoTIFF (COG)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tiling" class="md-nav__link">
    Tiling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overviews" class="md-nav__link">
    Overviews
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#https-get-range-request" class="md-nav__link">
    HTTP(s) GET Range Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-cogs-on-the-internet" class="md-nav__link">
    Example COGs on the internet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications-that-can-use-cogs" class="md-nav__link">
    Applications that can use COGs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-cogs" class="md-nav__link">
    Creating Your Own COGs
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own COGs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-gdal" class="md-nav__link">
    Using GDAL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cogger" class="md-nav__link">
    Using Cogger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-python" class="md-nav__link">
    Using Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-i-have-cogs-do-i-still-need-a-tile-server" class="md-nav__link">
    If I have COGs, do I still need a tile server?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-cogs-different-from-xyz-and-wmts-tiles" class="md-nav__link">
    How are COGs different from XYZ and WMTS tiles?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../zarr/" class="md-nav__link">
        Zarr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../stac/" class="md-nav__link">
        SpatioTemporal Asset Catalog
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ide/" class="md-nav__link">
        Cloud Compute
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Jupyter Notebook Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Jupyter Notebook Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Jupyter Notebook Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/cog/" class="md-nav__link">
        COG
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/xarray/" class="md-nav__link">
        XArray
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../notebooks/zarr/" class="md-nav__link">
        Zarr
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    Background
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cloud-optimized-geotiff-cog" class="md-nav__link">
    Cloud Optimized GeoTIFF (COG)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tiling" class="md-nav__link">
    Tiling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overviews" class="md-nav__link">
    Overviews
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#https-get-range-request" class="md-nav__link">
    HTTP(s) GET Range Request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-cogs-on-the-internet" class="md-nav__link">
    Example COGs on the internet
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#applications-that-can-use-cogs" class="md-nav__link">
    Applications that can use COGs
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-your-own-cogs" class="md-nav__link">
    Creating Your Own COGs
  </a>
  
    <nav class="md-nav" aria-label="Creating Your Own COGs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-gdal" class="md-nav__link">
    Using GDAL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-cogger" class="md-nav__link">
    Using Cogger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-python" class="md-nav__link">
    Using Python
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#if-i-have-cogs-do-i-still-need-a-tile-server" class="md-nav__link">
    If I have COGs, do I still need a tile server?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-are-cogs-different-from-xyz-and-wmts-tiles" class="md-nav__link">
    How are COGs different from XYZ and WMTS tiles?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resources" class="md-nav__link">
    Resources
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  

  <a href="https://github.com/jeffgillan/cloud-native-geospatial/edit/main/docs/cog.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


  <h1>Cloud Optimized GeoTiff</h1>

<figure>
<p><img alt="Image title" src="../images/cog_logo.png" width="200" />
  </p>
<figcaption> </figcaption>
</figure>
<h3 id="background">Background<a class="headerlink" href="#background" title="Permanent link">&para;</a></h3>
<p>The <a href="https://en.wikipedia.org/wiki/TIFF" target="_blank">TIFF file format (Tagged Image File Format)</a> is an old format dating back to 1992. TIFF are great for high-resolution verbatim <a href="https://en.wikipedia.org/wiki/Raster_graphics" target="_blank">raster images</a>. TIFF are still used a bit in high-end photography, but where it has really grown a second life is in digital cartography. The variation called <a href="https://en.wikipedia.org/wiki/GeoTIFF" target="_blank">GeoTIFF</a> has been widely adopted as a way to share satellite images and other satellite data.</p>
<p>While the GeoTIFF file format has long been thought of as only suitable for raw data: if you wanted to display it on a map, you’d convert it into tiles. If you wanted a static image, you’d render it into a PNG or JPEG. But <strong><em>Cloud-Optimized GeoTIFF</em></strong> means that GeoTIFFs can be a bit more accessible than they used to be. </p>
<h3 id="cloud-optimized-geotiff-cog">Cloud Optimized GeoTIFF (COG)<a class="headerlink" href="#cloud-optimized-geotiff-cog" title="Permanent link">&para;</a></h3>
<p>A <a href="https://www.cogeo.org/" target="_blank">Cloud Optimized GeoTIFF (COG)</a> is a regular <a href="https://www.ogc.org/standards/geotiff" target="_blank">GeoTIFF file</a>, aimed at being hosted on a HTTP file server, with an internal organization that enables more efficient workflows on the cloud. In other words, we can stream the content of a GeoTIFF file from a server into a client application without having to download the full file.</p>
<p>COGs have three major features that are baked into the file: </p>
<ul>
<li><a href="#tiling">Internal tiling</a></li>
<li><a href="#overviews">Internal overview structures</a></li>
<li><a href="#https-get-range-request">HTTP GET Range Requests</a></li>
</ul>
<h3 id="tiling">Tiling<a class="headerlink" href="#tiling" title="Permanent link">&para;</a></h3>
<p>Tiles are small, regular, and independent parts of a larger map. They are typically 256x256 pixels in size. COGs have tiles explicitly specified in their format structure, whereas regular GeoTIFFs may not. Tiling is a way to speed up map display because only the tiles that are visible in the current view need to be loaded.</p>
<h3 id="overviews">Overviews<a class="headerlink" href="#overviews" title="Permanent link">&para;</a></h3>
<p>Overviews are downsampled thumbnail images of the tile. A COG will have many overviews matched to each <a href="https://wiki.openstreetmap.org/wiki/Zoom_levels" target="_blank">Zoom Level</a>.</p>
<figure>
<p><a href="https://github.com/tyson-swetnam/agic-2022/raw/main/assets/images/geotiff_pyramid.png" target="blank" rel="geotiff_pyramid"><img alt="geotiff_pyramid" src="https://github.com/tyson-swetnam/agic-2022/raw/main/assets/images/geotiff_pyramid.png" width="500" /> </a>
    <figcaption>GeoTIFF pyramid by Zoom Level</figcaption></p>
</figure>
<h3 id="https-get-range-request">HTTP(s) GET Range Request<a class="headerlink" href="#https-get-range-request" title="Permanent link">&para;</a></h3>
<p>The HTTP GET Range Request, also known as <a href="https://en.wikipedia.org/wiki/Byte_serving" target="_blank">Byte Serving</a>, allows a client to request specific chunks of the COG using a combination of the tiles and overviews. If you are zoomed into a specific portion of the COG, then you only request the tiles that are visible in the current view. This is the same technology that enables streaming of other media types like video and audio. </p>
<p>Check out the <a href="https://github.com/cogeotiff/cog-spec/blob/master/spec.md" target="_blank">COG Specification</a></p>
<hr />
<h3 id="example-cogs-on-the-internet">Example COGs on the internet<a class="headerlink" href="#example-cogs-on-the-internet" title="Permanent link">&para;</a></h3>
<p>There are numerous cloud based data stores hosting COGs, take a look through a few of these:</p>
<ul>
<li>
<p><a href="https://planetarycomputer.microsoft.com/catalog" target="_blank">Microsoft Planetary Computer Catalog</a> - most of the imagery datasets in Planetary Computer are hosted as COGs. You can also view the catalog through the Planetary Computer <a href="https://radiantearth.github.io/stac-browser/#/external/planetarycomputer.microsoft.com/api/stac/v1/" target="_blank">STAC API browser</a> </p>
</li>
<li>
<p><a href="https://registry.opendata.aws/sentinel-2-l2a-cogs/" target="_blank">ESA Sentinel-2 COGs</a></p>
</li>
<li>
<p><a href="https://www.planet.com/">Planet</a> is streaming out their imagery as COGs. You can also do simple analysis of COGs directly within the Planet platform. </p>
</li>
<li>
<p>This <a href="https://www.cogeo.org/map/#/url/https%3A%2F%2Fdata.cyverse.org%2Fdav-anon%2Fiplant%2Fhome%2Fjgillan%2FSTAC_drone%2F22_2_ortho_cog.tif/center/-110.84602,31.78408/zoom/18" target="_blank">example COG</a> is a drone orthomosaic that is hosted in Cyverse Data Store. We can stream it to the <a href="https://www.cogeo.org/map/" target="_blank">CogEO Viewer</a>. </p>
</li>
<li>
<p>Here is another <a href="https://www.cogeo.org/map/#/url/https%3A%2F%2Foin-hotosm.s3.us-east-1.amazonaws.com%2F64d1bd4419cb3a000147a56a%2F0%2F64d1bd4419cb3a000147a56b.tif/center/-90.68608,42.49636/zoom/17" target="_blank">example</a> of drone imagery COG from <a href="https://openaerialmap.org/" target="_blank">OpenAerialMap</a>. The data is hosted on AWS and streamed to the <a href="https://www.cogeo.org/map/" target="_blank">CogEO Viewer</a>. </p>
</li>
</ul>
<hr />
<h3 id="applications-that-can-use-cogs">Applications that can use COGs<a class="headerlink" href="#applications-that-can-use-cogs" title="Permanent link">&para;</a></h3>
<p><strong>COGs are geotiffs</strong>, so any software application that can read and work with geotiffs will be able to read and work with COGs. This includes QGIS, ArcGIS, and Google Earth Engine.</p>
<details class="tip">
<summary>Stream COGs into QGIS</summary>
<ol>
<li>
<p>Open QGIS</p>
</li>
<li>
<p>In the "Layers" then "Add Layer" and then "Add Raster Layer" </p>
</li>
<li>
<p>Choose the Source Type and select "Protocol: HTTP(s), cloud, etc" for a file on your computer</p>
</li>
<li>
<p>Enter a valid <code>https://</code> in the <code>URl</code> field for a COG you found online
<br/><br/></p>
</li>
</ol>
<p><img align="center" alt="qgis" src="../images/qgis_screenshot.png" width="600" /></p>
</details>
<ul>
<li>
<p>You can stream COGs into ArcGIS Pro following this <a href="https://opengislab.com/blog/2021/4/25/accessing-cloud-optimized-geotiffs-in-arcgis-pro" target="_blank">tutorial</a>.</p>
</li>
<li>
<p>You can <a href="https://developers.google.com/earth-engine/guides/image_overview" target="_blank">import</a> and <a href="https://developers.google.com/earth-engine/guides/exporting_images" target="_blank">export</a> Cloud Optimized Geotiffs in GEE</p>
</li>
</ul>
<hr />
<h3 id="creating-your-own-cogs">Creating Your Own COGs<a class="headerlink" href="#creating-your-own-cogs" title="Permanent link">&para;</a></h3>
<h4 id="using-gdal">Using GDAL<a class="headerlink" href="#using-gdal" title="Permanent link">&para;</a></h4>
<p>Geospatial Data Abstration Library (GDAL) is an open source library for working with geospatial data.<a href="https://gdal.org/software_using_gdal.html#software-using-gdal" target="_blank">Most GIS software</a> use GDAL. For regular users, GDAL is a command line tool.</p>
<p>The lastest versions of <a href="https://gdal.org" target="_blank">GDAL</a> (&gt;v3.1) have <a href="https://gdal.org/drivers/raster/cog.html" target="_blank">COG generator</a> installed by default.</p>
<details class="tip">
<summary>Install GDAL</summary>
<p>GDAL installation can at times be difficult. When different older python environments are installed on a desktop or laptop GDAL can become broken or incompatiblity issues can come up when installing it.</p>
<p><a href="https://apps.nationalmap.gov/raster-conversion/gdal-installation-and-setup-guide.html" target="_blank">USGS Windows GDAL Installation Guide</a> </p>
<p><a href="https://gdal.org/download.html" target="_blank">Official GDAL Install Guide</a> </p>
<p><a href="https://www.qgis.org/en/site/" target="_blank">QGIS</a> installs GDAL by default</p>
<p><a href="https://anaconda.org/conda-forge/gdal" target="_blank">Anaconda</a> and its package management <code>conda</code></p>
<p><a href="https://hub.docker.com/r/osgeo/gdal" target="_blank">Docker <code>osgeo/gdal</code></a> images are maintained on the Docker Hub</p>
</details>
<p>Open a console and check your <code>gdal</code> installation</p>
<div class="highlight"><pre><span></span><code>gdalinfo<span class="w"> </span>--version
</code></pre></div>
<p>Make sure that you're operating on at least <code>v3.1</code> of GDAL (current latest <code>v3.5.1</code>)</p>
<div class="highlight"><pre><span></span><code>gdal_translate<span class="w"> </span>p_ndvi_cor.tif<span class="w"> </span>p_ndvi_cor_cog.tif<span class="w"> </span><span class="se">\</span>
-b<span class="w"> </span><span class="m">1</span><span class="w"> </span>-b<span class="w"> </span><span class="m">2</span><span class="w"> </span>-b<span class="w"> </span><span class="m">3</span><span class="w">  </span><span class="se">\</span>
-of<span class="w"> </span>COG<span class="w"> </span><span class="se">\</span>
-co<span class="w"> </span><span class="nv">TILING_SCHEME</span><span class="o">=</span>GoogleMapsCompatible<span class="w"> </span><span class="se">\</span>
-co<span class="w"> </span><span class="nv">COMPRESS</span><span class="o">=</span>JPEG<span class="w"> </span><span class="se">\</span>
-co<span class="w"> </span><span class="nv">OVERVIEW_QUALITY</span><span class="o">=</span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
-co<span class="w"> </span><span class="nv">QUALITY</span><span class="o">=</span><span class="m">100</span>
</code></pre></div>
<p>Check the file size of your example file and your output file. Which is larger?</p>
<p>Now, if we want to add overviews to the output <code>p_ndvi_cor_cog.tif</code>:</p>
<div class="highlight"><pre><span></span><code>gdaladdo<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--config<span class="w"> </span>COMPRESS_OVERVIEW<span class="w"> </span>JPEG<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--config<span class="w"> </span>JPEG_QUALITY_OVERVIEW<span class="w"> </span><span class="m">100</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--config<span class="w"> </span>PHOTOMETRIC_OVERVIEW<span class="w"> </span>YCBCR<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--config<span class="w"> </span>INTERLEAVE_OVERVIEW<span class="w"> </span>PIXEL<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-r<span class="w"> </span>average<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>p_ndvi_cor_cog.tif<span class="w"> </span><span class="se">\</span>
<span class="w">  </span><span class="m">2</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="m">16</span>
</code></pre></div>
<h4 id="using-cogger">Using Cogger<a class="headerlink" href="#using-cogger" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://github.com/airbusgeo/cogger" target="_blank"><code>cogger</code></a> is a rapid COG generator from GeoTIFF</li>
</ul>
<h4 id="using-python">Using Python<a class="headerlink" href="#using-python" title="Permanent link">&para;</a></h4>
<p>library Rio-cogeo - RasterIO plugin to create and validate COGs</p>
<hr />
<h2 id="if-i-have-cogs-do-i-still-need-a-tile-server">If I have COGs, do I still need a tile server?<a class="headerlink" href="#if-i-have-cogs-do-i-still-need-a-tile-server" title="Permanent link">&para;</a></h2>
<p>The breakthrough of COGs is that they have internal tiling which allows them to be streamed into applications without the need for an additional tile server. For most individuals and small organizations, this should be all you need. </p>
<p>However, there are a few reasons why you might still want to use a tile server with COGs:</p>
<ul>
<li>
<p>Performance: Tile servers can cache tiles in memory, which can improve performance by reducing the number of times that tiles need to be read from disk.</p>
</li>
<li>
<p>Scalability: Tile servers can be scaled to handle large numbers of requests.</p>
</li>
<li>
<p>Security: Tile servers can be used to encrypt tiles, which can help to protect them from unauthorized access. If you are streaming COGs to a large number of clients or if you need to ensure that your tiles are secure, then I recommend using a tile server. However, if you are only streaming COGs to a small number of clients and you do not need to worry about security, then you can use the built-in tiles in COGs.</p>
</li>
</ul>
<h2 id="how-are-cogs-different-from-xyz-and-wmts-tiles">How are COGs different from XYZ and WMTS tiles?<a class="headerlink" href="#how-are-cogs-different-from-xyz-and-wmts-tiles" title="Permanent link">&para;</a></h2>
<p>Web mapping tile services (WMTS) and XYZ tiles are primarily designed for efficient map display in web environments. Their main goal is to provide quick and seamless map visualizations over the internet by serving small, pre-defined tiles at multiple zoom levels. These tiles are ideal for web maps where users might pan and zoom around the globe, as the small tiles can be fetched and displayed rapidly.</p>
<p>However, for analysis purposes – where users might want to compute statistics, apply algorithms, or extract detailed information from imagery or raster data – these tiling methods are not optimal. The reason is that analysis often requires access to raw, high-resolution data rather than the downsampled or potentially lossy representations provided by these tiles.</p>
<p>That's where formats like Cloud Optimized GeoTIFFs (COGs) come into play. COGs are designed to allow for efficient access to high-resolution raster datasets, making them more suited for analytical purposes. With COGs, one can access and process only specific portions of a large raster without downloading the entire file, making it efficient for cloud-based analysis workflows.</p>
<p><strong>In summary, COGs are designed for efficient access to high-resolution raster data, while XYZ and WMTS tiles are designed for efficient map display.</strong></p>
<h2 id="resources">Resources<a class="headerlink" href="#resources" title="Permanent link">&para;</a></h2>
<p><a href="https://sean-rennie.medium.com/cogs-in-production-e9a42c7f54e4" target="_blank">COGS in Production blog post by Sean Rennie</a></p>
<p><a href="https://www.postholer.com/portfolio/index.php?example=serverless" target="_blank">Blog on COGs</a></p>
<p><a href="https://mapscaping.com/complete-guide-to-cloud-optimized-geotiffs/" target="_blank">Mapscaping on COGS</a></p>
<p><a href="https://developers.planet.com/docs/planetschool/an-introduction-to-cloud-optimized-geotiffs-cogs-part-1-overview/" target="_blank">Intro to COGs from Planet</a></p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-09-05
    
  </small>
</div>





                

              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../copc/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Cloud Optimized Point Clouds" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Cloud Optimized Point Clouds
            </div>
          </div>
        </a>
      
      
        
        <a href="../zarr/" class="md-footer__link md-footer__link--next" aria-label="Next: Zarr" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Zarr
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      License CC by 4.0
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>